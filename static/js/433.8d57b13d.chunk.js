"use strict";(self.webpackChunkwho_am_i_frontend=self.webpackChunkwho_am_i_frontend||[]).push([[433],{42:(e,s,a)=>{a.d(s,{A:()=>i});var n=a(43),r=a(910),c=a(310),t=a(579);function l(e){let{player:s,isSelf:a,isTurn:n}=e;const l="player-card ".concat(n?"active-turn":""," ").concat(s.guessed?"guessed":"");return(0,t.jsxs)("div",{className:l,children:[(0,t.jsx)("div",{className:"player-avatar",children:(0,t.jsx)("img",{src:s.avatarId,alt:s.name,className:"player-avatar-img"})}),(0,t.jsxs)("div",{className:"player-name-container",children:[(0,t.jsx)("h3",{className:"player-name",children:s.name}),s.characterSubmitted&&!s.characterOnForehead&&!s.guessed&&(0,t.jsx)(r.g,{icon:c.SGM,className:"ready-icon",title:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u0437\u0430\u0433\u0430\u0434\u0430\u043d"})]}),!a&&s.characterOnForehead&&(0,t.jsx)("div",{className:"character-display",children:(0,t.jsx)("span",{className:"character-name",children:s.characterOnForehead})}),s.guessed&&(0,t.jsx)("span",{className:"guessed-badge",children:"\u0423\u0433\u0430\u0434\u0430\u043b!"})]})}const i=(0,n.memo)(l)},433:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var n=a(43),r=a(216),c=a(562),t=a(42),l=a(699),i=a(579);const d=function(e){let{game:s,playerName:a,socketId:d,onStartGame:o,onSubmitCharacter:h,onLeaveGame:m}=e;const[x,j]=(0,n.useState)(""),g=(0,r.Zp)(),{gameCode:p}=(0,r.g)();if((0,n.useEffect)((()=>{s||(c.s.connected||c.s.connect(),c.s.emit("getGame",p)),s&&"in-progress"===s.status&&g("/game/".concat(s.code))}),[s,p,g]),!s||!s.players||!s.actionLog)return(0,i.jsxs)("div",{className:"loading-screen",children:["\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u043b\u043e\u0431\u0431\u0438 ",p,"..."]});const u=s.hostId===d,v=s.players.find((e=>e.id===d)),N=v&&v.characterSubmitted,y=s.players.every((e=>e.characterSubmitted));return(0,i.jsxs)("div",{className:"glass-panel",children:[(0,i.jsxs)("div",{className:"room-header",children:[(0,i.jsxs)("h1",{className:"room-title",children:["\u041b\u043e\u0431\u0431\u0438 \u0438\u0433\u0440\u044b: ",s.code]}),(0,i.jsxs)("p",{className:"room-info",children:["\u0412\u044b: ",a||"\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c"," ",u&&"(\u0425\u043e\u0441\u0442)"]})]}),(0,i.jsxs)("div",{className:"room-layout",children:[(0,i.jsxs)("div",{className:"main-content",children:[(0,i.jsxs)("div",{className:"players-section glass-panel",children:[(0,i.jsxs)("h2",{children:["\u0418\u0433\u0440\u043e\u043a\u0438 (",s.players.length,")"]}),(0,i.jsx)("div",{className:"player-list",children:s.players.map((e=>(0,i.jsx)(t.A,{player:e,isSelf:e.id===d},e.id)))})]}),(0,i.jsxs)("div",{className:"character-submission-section glass-panel",children:[(0,i.jsx)("h2",{children:"\u0417\u0430\u0433\u0430\u0434\u0430\u0439\u0442\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430"}),N?(0,i.jsx)("p",{className:"submitted-message",children:"\u0412\u044b \u0437\u0430\u0433\u0430\u0434\u0430\u043b\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430! \u041e\u0436\u0438\u0434\u0430\u0435\u043c \u0434\u0440\u0443\u0433\u0438\u0445."}):(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("input",{type:"text",value:x,onChange:e=>j(e.target.value),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0411\u044d\u0442\u043c\u0435\u043d, \u0413\u0430\u0440\u0440\u0438 \u041f\u043e\u0442\u0442\u0435\u0440",maxLength:"30"}),(0,i.jsx)("button",{onClick:()=>{x.trim()&&(h(x.trim()),j(""))},className:"btn primary",children:"\u0417\u0430\u0433\u0430\u0434\u0430\u0442\u044c"})]})]}),u&&(0,i.jsxs)("div",{className:"start-game-section",children:[(0,i.jsx)("button",{onClick:o,className:"btn success",disabled:!y||s.players.length<2,title:s.players.length<2?"\u041d\u0443\u0436\u043d\u043e \u043c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0438\u0433\u0440\u043e\u043a\u0430":y?"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443":"\u041d\u0435 \u0432\u0441\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0437\u0430\u0433\u0430\u0434\u0430\u043b\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"}),s.players.length<2&&(0,i.jsx)("p",{className:"waiting-message",children:"\u041d\u0443\u0436\u043d\u043e \u043c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0438\u0433\u0440\u043e\u043a\u0430 \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430."}),!y&&s.players.length>=2&&(0,i.jsx)("p",{className:"waiting-message",children:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c, \u043f\u043e\u043a\u0430 \u0432\u0441\u0435 \u0437\u0430\u0433\u0430\u0434\u0430\u044e\u0442 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u0439..."})]})]}),(0,i.jsx)("div",{className:"history-panel glass-panel",children:(0,i.jsx)(l.A,{events:s.actionLog})}),(0,i.jsx)("div",{className:"exit-button-container",children:(0,i.jsx)("button",{onClick:m,className:"btn danger",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0438\u0433\u0440\u044b"})})]})]})}},699:(e,s,a)=>{a.d(s,{A:()=>l});var n=a(43),r=a(910),c=a(310),t=a(579);const l=function(e){let{events:s}=e;const a=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e;null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[s]);const l=e=>{switch(e.type){case"system":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.g,{icon:c.Rbk})," ",(0,t.jsx)("span",{children:e.text})]});case"join":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.g,{icon:c.rhE})," ",(0,t.jsx)("strong",{children:e.playerName})," \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u043b\u0441\u044f \u043a \u0438\u0433\u0440\u0435."]});case"leave":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.g,{icon:c.GxD})," ",(0,t.jsx)("strong",{children:e.playerName})," \u043f\u043e\u043a\u0438\u043d\u0443\u043b \u0438\u0433\u0440\u0443."]});case"submit":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.g,{icon:c.pCJ})," ",(0,t.jsx)("strong",{children:e.playerName})," \u0437\u0430\u0433\u0430\u0434\u0430\u043b \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430."]});case"question":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.g,{icon:c.wRm})," ",(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:e.playerName}),' \u0441\u043f\u0440\u043e\u0441\u0438\u043b: "',e.text,'"']})]});case"answer":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.g,{icon:"\u0414\u0430"===e.answer?c.e68:c.GRI,className:"\u0414\u0430"===e.answer?"icon-yes":"icon-no"})," ",(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:e.playerName})," \u043e\u0442\u0432\u0435\u0442\u0438\u043b: ",(0,t.jsx)("strong",{children:e.answer})]})]});case"guess":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.g,{icon:c.pvD})," ",(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:e.playerName}),' \u0443\u0433\u0430\u0434\u044b\u0432\u0430\u0435\u0442: "',e.text,'" - ',e.isCorrect?(0,t.jsx)("strong",{className:"correct-guess",children:"\u0412\u0435\u0440\u043d\u043e!"}):"\u041d\u0435\u0432\u0435\u0440\u043d\u043e."]})]});default:return(0,t.jsx)("span",{children:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435."})}};return(0,t.jsxs)("div",{className:"history-log-container",children:[(0,t.jsx)("h3",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0433\u0440\u044b"}),(0,t.jsxs)("div",{className:"history-events",children:[s.map((e=>(0,t.jsx)("div",{className:"history-event event-type-".concat(e.type),children:l(e)},e.id))),(0,t.jsx)("div",{ref:a})]})]})}}}]);
//# sourceMappingURL=433.8d57b13d.chunk.js.map